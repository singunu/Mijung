import os
from gensim.models import Word2Vec
import numpy as np
def test_embedding_model_exists():
    """
    Verify that embedding.model exists within the embedding directory.
    """
    # 상대 경로를 지정합니다. (프로젝트 루트에서 시작할 수 있도록 설정)
    model_path = os.path.join("app", "embedding", "embedding.model")

    # 파일이 존재하는지 확인합니다.
    assert os.path.exists(model_path), f"Model file at {model_path} does not exist."

def test_embedding_model():
        # 모델 로드 (이미 설정된 경로에서)
    model = Word2Vec.load("app/embedding/embedding.model")

    # 모델에서 가져온 벡터
    vector_from_model = model.wv['743']

    given_vector = np.array(
        [-7.3237199e-01,  3.6290595e-01,  2.3573759e+00, -1.8911455e+00,
  2.6357031e+00,  1.4279195e+00,  8.5818493e-01, -3.4663191e+00,
  8.5194516e-01, -5.2617264e-01, -1.6133878e+00, -5.0476789e-01,
 -3.8574788e-01, -1.5049818e+00, -2.5969861e+00,  2.1582253e-01,
 -1.3503098e+00, -3.7892729e-01,  5.0680953e-01, -7.3758441e-01,
 -2.3197366e-03,  2.5219140e+00, -2.2455471e+00,  1.4571871e+00,
  3.0780071e-01, -7.1264058e-01, -5.2067214e-01, -2.8407481e+00,
 -1.9116198e+00, -1.7216761e+00,  1.5741851e+00, -3.8127968e-01,
 -6.2925798e-01, -1.9664184e+00,  1.4434646e+00,  4.1498862e-02,
  9.4675744e-01, -4.4794160e-01,  3.1157715e+00, -1.7922852e+00,
 -9.4223422e-01, -1.2321715e+00,  1.7199978e-01, -3.0801809e-01,
  2.4880843e+00,  3.4779437e+00,  7.2091168e-01,  6.4699858e-01,
 -1.2220330e+00,  2.3116718e-01, -3.8360488e-01, -1.8242925e+00,
 -8.3253795e-01,  2.0734332e+00,  1.6492452e-01,  5.3938466e-01,
  1.2983819e+00,  2.4680855e+00, -6.7968267e-01, -9.0168637e-01,
  1.1233896e+00,  1.0461670e+00,  1.4775352e+00, -1.6581362e+00,
  1.0639532e+00, -1.4893310e+00, -9.7164649e-01, -1.8338507e+00,
 -1.2888160e+00, -3.6250019e-01, -4.1174275e-01, -8.6166769e-01,
  8.3332342e-01, -7.2760171e-01, -5.0722212e-01, -8.3095467e-01,
 -2.5993710e+00, -1.5245689e+00, -1.9676214e+00,  1.0335451e+00,
 -9.5838577e-01,  1.9776534e+00, -1.5886103e-01,  2.6436040e-01,
 -1.6494892e+00, -1.0609879e+00, -1.0735006e+00, -6.1891395e-01,
 -1.2334756e+00,  1.7707594e-01,  2.5050251e+00, -5.3354615e-01,
  1.0393076e+00,  1.7155747e+00,  1.2055066e+00, -1.0318054e+00,
 -1.1134684e+00, -4.6921238e-01, -5.4528219e-01, -4.7406141e-02]

    )
    assert np.array_equal(vector_from_model, model.wv['743'])